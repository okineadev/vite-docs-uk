---
title: Анонс Vite 2.0
author:
  - name: Команда Vite
sidebar: false
date: 2021-02-16
head:
  - - meta
    - property: og:type
      content: website
  - - meta
    - property: og:title
      content: Анонс Vite 2.0
  - - meta
    - property: og:url
      content: https://vite.dev/blog/announcing-vite2
  - - meta
    - property: og:description
      content: Анонс випуску Vite 2
---

# Анонс Vite 2.0

_16 лютого 2021_ - Ознайомтесь з [анонсом Vite 3.0](./announcing-vite3.md)

<p style="text-align:center">
  <img src="/logo.svg" style="height:200px">
</p>

Сьогодні ми раді оголосити про офіційний випуск Vite 2.0!

Vite (французьке слово, що означає "швидко", вимовляється `/vit/`) - це новий тип інструменту для збірки фронтенд веб-розробки. Уявіть собі попередньо налаштований dev-сервер + бандлер, але легший і швидший. Він використовує [нативну підтримку ES модулів](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules) браузером та інструменти, написані на мовах, що компілюються в нативний код, таких як [esbuild](https://esbuild.github.io/), щоб забезпечити швидкий і сучасний досвід розробки.

Щоб зрозуміти, наскільки швидкий Vite, перегляньте [це відео порівняння](https://twitter.com/amasad/status/1355379680275128321) запуску React-додатку на Repl.it за допомогою Vite проти `create-react-app` (CRA).

Якщо ви ніколи не чули про Vite і хочете дізнатися більше, ознайомтесь з [обґрунтуванням проекту](https://vite.dev/guide/why.html). Якщо вас цікавить, чим Vite відрізняється від інших подібних інструментів, перегляньте [порівняння](https://vite.dev/guide/comparisons.html).

## Що нового у версії 2.0

Оскільки ми вирішили повністю переробити внутрішню архітектуру перед тим, як випустити версію 1.0 з RC, це фактично перший стабільний випуск Vite. Тим не менш, Vite 2.0 приносить багато значних покращень у порівнянні з попередньою версією:

### Незалежне від фреймворків ядро

Оригінальна ідея Vite почалася як [прототип, що обслуговує Vue-компоненти з одним файлом через нативний ESM](https://github.com/vuejs/vue-dev-server). Vite 1 був продовженням цієї ідеї з реалізованим HMR.

Vite 2.0 бере все, що ми дізналися на цьому шляху, і переробляє з нуля з більш надійною внутрішньою архітектурою. Тепер він повністю незалежний від фреймворків, і вся підтримка конкретних фреймворків делегується плагінам. Тепер є [офіційні шаблони для Vue, React, Preact, Lit Element](https://github.com/vitejs/vite/tree/main/packages/create-vite), а також тривають зусилля спільноти щодо інтеграції Svelte.

### Новий формат і API плагінів

Натхненний [WMR](https://github.com/preactjs/wmr), нова система плагінів розширює інтерфейс плагінів Rollup і [сумісна з багатьма плагінами Rollup](https://vite-rollup-plugins.patak.dev/) з коробки. Плагіни можуть використовувати сумісні з Rollup хуки, з додатковими хуками та властивостями, специфічними для Vite, для налаштування поведінки тільки Vite (наприклад, розрізнення dev і build або користувацької обробки HMR).

[Програмний API](https://vite.dev/guide/api-javascript.html) також значно покращено для полегшення створення інструментів / фреймворків вищого рівня на основі Vite.

### Попереднє збирання залежностей за допомогою esbuild

Оскільки Vite є нативним ESM dev-сервером, він попередньо збирає залежності, щоб зменшити кількість запитів браузера та обробляти перетворення CommonJS в ESM. Раніше Vite робив це за допомогою Rollup, а в версії 2.0 він тепер використовує `esbuild`, що призводить до 10-100 разів швидшого попереднього збирання залежностей. Наприклад, холодний запуск тестового додатку з важкими залежностями, такими як React Material UI, раніше займав 28 секунд на MacBook Pro з процесором M1, а тепер займає ~1.5 секунди. Очікуйте подібних покращень, якщо ви переходите з традиційної налаштування на основі бандлера.

### Підтримка CSS першого класу

Vite розглядає CSS як першокласного громадянина графу модулів і підтримує наступне з коробки:

- **Покращення резолвера**: шляхи `@import` і `url()` в CSS покращені резолвером Vite для врахування псевдонімів та npm-залежностей.
- **Перебазування URL**: шляхи `url()` автоматично перебазуються незалежно від того, звідки імпортується файл.
- **Розділення коду CSS**: розділений JS-кусок також випускає відповідний CSS-файл, який автоматично завантажується паралельно з JS-куском при запиті.

### Підтримка серверного рендерингу (SSR)

Vite 2.0 постачається з [експериментальною підтримкою SSR](https://vite.dev/guide/ssr.html). Vite надає API для ефективного завантаження та оновлення вихідного коду на основі ESM у Node.js під час розробки (майже як HMR на сервері) і автоматично зовнішнізовує сумісні з CommonJS залежності для покращення швидкості розробки та збірки SSR. Продукційний сервер може бути повністю відокремлений від Vite, і ту ж саму налаштування можна легко адаптувати для виконання попереднього рендерингу / SSG.

SSR Vite надається як низькорівнева функція, і ми очікуємо побачити фреймворки вищого рівня, що використовують її під капотом.

### Опціональна підтримка застарілих браузерів

Vite за замовчуванням націлений на сучасні браузери з нативною підтримкою ESM, але ви також можете включити підтримку застарілих браузерів за допомогою офіційного [@vitejs/plugin-legacy](https://github.com/vitejs/vite/tree/main/packages/plugin-legacy). Плагін автоматично генерує подвійні сучасні/застарілі бандли і доставляє правильний бандл на основі виявлення функцій браузера, забезпечуючи більш ефективний код у сучасних браузерах, які їх підтримують.

## Спробуйте!

Це було багато функцій, але почати з Vite просто! Ви можете запустити додаток на основі Vite буквально за хвилину, починаючи з наступної команди (переконайтеся, що у вас встановлено Node.js >=12):

```bash
npm init @vitejs/app
```

Потім ознайомтесь з [керівництвом](https://vite.dev/guide/), щоб побачити, що Vite надає з коробки. Ви також можете переглянути вихідний код на [GitHub](https://github.com/vitejs/vite), слідкувати за оновленнями на [Twitter](https://twitter.com/vite_js) або приєднатися до обговорень з іншими користувачами Vite на нашому [сервері Discord](http://chat.vite.dev/).
